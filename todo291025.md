# TODO BigMind - 29 Octobre 2025

**Statut:** 39.7% compl√©t√© (283/715 tests)
**Sprints compl√©t√©s:** 3/8
**Tests restants:** 432/715

---

## ‚úÖ MISE √Ä JOUR 29 OCT 2025 (Soir√©e) - Syst√®me de Ratings Supabase

### Compl√©t√©

- ‚úÖ **Syst√®me de ratings complet** avec Supabase (base de donn√©es cloud)
- ‚úÖ **Admin Panel** pour mod√©rer les avis (approuver/rejeter)
- ‚úÖ **Rate limiting** via Edge Function (5 ratings/plugin/IP/24h)
- ‚úÖ **Interface marketplace** avec badges, filtres, et grid layout ajustable
- ‚úÖ **12 plugins** affich√©s correctement (Core/Featured/Community)

### Fichiers cr√©√©s

- `supabase/functions/check-rate-limit/index.ts` - Edge Function
- `SUPABASE_FINAL_SETUP.md` - Documentation setup
- `EDGE_FUNCTIONS_SETUP.md` - Guide d√©ploiement
- Scripts SQL: `SUPABASE_COMPLETE_SETUP.sql`, `FIX_GRANTS.sql`, `DISABLE_RLS_PERMANENT.sql`

### Notes techniques

- RLS d√©sactiv√© sur Supabase (probl√®mes avec policies)
- S√©curit√© via GRANTS PostgreSQL (anon: INSERT/SELECT, authenticated: ALL)
- Filtrage `is_approved=true` c√¥t√© client

---

## üÜï MISE √Ä JOUR 29 OCT 2025 (Matin) - D√©cisions Marketplace

### D√©cisions Architecturales Prises

#### 1. Cat√©gorisation des Plugins

**Structure finale monorepo :**

```
apps/web/src/plugins/
‚îú‚îÄ‚îÄ core/                    # Plugins vraiment essentiels (non-d√©sactivables)
‚îÇ   ‚îú‚îÄ‚îÄ xmind-compatibility/ # Import/export XMind (int√©grit√© donn√©es)
‚îÇ   ‚îî‚îÄ‚îÄ theme-manager/       # Th√®mes Light/Dark (UI essentielle)
‚îÇ
‚îî‚îÄ‚îÄ official/                # Plugins officiels optionnels (d√©sactivables)
    ‚îú‚îÄ‚îÄ tags-manager/
    ‚îú‚îÄ‚îÄ export-manager/
    ‚îú‚îÄ‚îÄ palette-settings/
    ‚îú‚îÄ‚îÄ palette-manager/
    ‚îú‚îÄ‚îÄ dag-templates/
    ‚îî‚îÄ‚îÄ dag-templates-collection/
```

**Plugins √† migrer vers bigmind-plugins/official/ :**

- `color-palettes-collection` (41 palettes - content pack)
- `dag-templates-collection` (3 templates - content pack)

#### 2. Interface Unifi√©e (comme VS Code)

**UX TARGET:** Une seule vue "Gestionnaire" qui affiche :

- Plugins builtin (install√©s par d√©faut avec l'app)
- Plugins remote (disponibles sur GitHub registry)
- TOUS m√©lang√©s dans la m√™me grille
- Badges pour distinguer : `[CORE]` `[OFFICIAL]` `[COMMUNITY]` `[ACTIF]` `[INACTIF]` `[DISPONIBLE]`
- Filtres pour trier par statut/source
- Pas de s√©paration visuelle "Install√©s" vs "Marketplace"

**Composants √† fusionner :**

- `PluginManager` (actuel) ‚Üí Vue unifi√©e
- `RemotePluginMarketplace` (cr√©√© ce matin) ‚Üí Fonctions d'installation √† int√©grer

#### 3. Auto-Activation des Plugins

**Nouveau champ manifest :**

```typescript
export const manifest: PluginManifest = {
  id: 'com.bigmind.theme-manager',
  autoActivate: true, // ‚Üê NOUVEAU !
  // ... reste du manifest
};
```

**Comportement :**

- `autoActivate: true` ‚Üí Activ√© automatiquement au premier lancement
- `autoActivate: false` ‚Üí Reste inactif jusqu'√† activation manuelle
- Plugins CORE ‚Üí `autoActivate: true` obligatoire
- Plugins OFFICIAL ‚Üí `autoActivate: false` par d√©faut

#### 4. GitHub Registry (pas R2)

**Architecture choisie :**

```
https://github.com/guthubrx/bigmind-plugins
‚îú‚îÄ‚îÄ official/
‚îÇ   ‚îú‚îÄ‚îÄ hello-world/
‚îÇ   ‚îú‚îÄ‚îÄ color-palettes-collection/
‚îÇ   ‚îî‚îÄ‚îÄ dag-templates-collection/
‚îú‚îÄ‚îÄ community/
‚îÇ   ‚îî‚îÄ‚îÄ (plugins tiers)
‚îî‚îÄ‚îÄ registry.json  ‚Üê Fichier central avec m√©tadonn√©es
```

**registry.json structure :**

```json
{
  "version": "1.0.0",
  "plugins": [
    {
      "id": "com.bigmind.hello-world",
      "name": "Hello World",
      "version": "1.0.0",
      "source": "official",
      "downloadUrl": "https://github.com/guthubrx/bigmind-plugins/raw/main/official/hello-world/dist/index.js",
      "manifestUrl": "https://github.com/guthubrx/bigmind-plugins/raw/main/official/hello-world/manifest.json",
      "downloads": 1247, // ‚Üê Stats publiques
      "rating": 4.5, // ‚Üê Moyenne avis
      "reviewCount": 23, // ‚Üê Nombre d'avis
      "lastUpdated": "2025-10-29T10:00:00Z"
    }
  ]
}
```

#### 5. Stats et Ratings (Services Publics)

**Option retenue : GitHub + Services publics (sans serveur d√©di√©)**

**Pour les t√©l√©chargements :**

- Utiliser GitHub API : `GET /repos/{owner}/{repo}/traffic/popular/referrers`
- Ou GitHub Releases downloads count
- Alternative : jsdelivr CDN stats (si on utilise comme CDN)

**Pour les ratings/avis :**

- **Option A:** GitHub Discussions API
  - Cr√©er une discussion par plugin
  - Users postent avis comme commentaires
  - Rating = emojis reactions (üëçüëé)
  - Gratuit, pas de serveur

- **Option B:** Giscus (GitHub Discussions widget)
  - Widget qui s'int√®gre dans l'UI
  - Stockage dans GitHub Discussions
  - Pas de backend n√©cessaire

- **Option C:** Simple.gg / utteranc.es
  - Services publics pour comments
  - Bas√©s sur GitHub Issues/Discussions
  - Gratuit

**D√©cision finale :** Utiliser GitHub Discussions + Giscus pour MVP

#### 6. Plan d'Impl√©mentation R√©vis√©

**PHASE 1 : Registry GitHub (1 jour)**

- [ ] Cr√©er `registry.json` dans bigmind-plugins
- [ ] Migrer `color-palettes-collection` vers `bigmind-plugins/official/`
- [ ] Migrer `dag-templates-collection` vers `bigmind-plugins/official/`
- [ ] D√©ployer sur GitHub

**PHASE 2 : GitHubPluginRegistry Service (2 jours)**

- [ ] Cr√©er `apps/web/src/services/GitHubPluginRegistry.ts`
  - [ ] `async fetchRegistry(): Promise<PluginRegistryEntry[]>`
  - [ ] `async downloadPlugin(id: string): Promise<Blob>`
  - [ ] `async getDownloadCount(id: string): Promise<number>` (GitHub API)
  - [ ] `async getRatings(id: string): Promise<PluginRatings>` (GitHub Discussions)
- [ ] Cache local (5min TTL)
- [ ] Retry logic
- [ ] Error handling

**PHASE 3 : Interface Unifi√©e (2 jours)** ‚úÖ PARTIELLEMENT COMPL√âT√â

- [x] Modifier `PluginManager.tsx` pour afficher builtin (remote TODO)
- [x] Ajouter badges : `[CORE]` `[OFFICIAL]` `[COMMUNITY]` `[VEDETTE]`
- [ ] Int√©grer fonctions installation de `RemotePluginMarketplace`
- [x] Ajouter stats dans les cards : rating moyen et formulaire de rating
- [x] Filtres : statut + source + grid columns (2-5)
- [x] Layout ajustable : compact/normal/wide

**PHASE 4 : Auto-Activation (1 jour)**

- [ ] Ajouter `autoActivate?: boolean` au type `PluginManifest`
- [ ] Modifier `PluginRegistry` pour activer auto si `autoActivate: true`
- [ ] Mettre √† jour manifests CORE avec `autoActivate: true`
- [ ] Tests

**PHASE 5 : Recat√©gorisation (1 jour)**

- [ ] D√©placer `xmind-compatibility` vers `plugins/core/`
- [ ] D√©placer `theme-manager` vers `plugins/core/`
- [ ] D√©placer managers vers `plugins/official/`
- [ ] Mettre √† jour imports
- [ ] Mettre √† jour `source` dans manifests

**PHASE 6 : Giscus Integration (1 jour)**

- [ ] Activer GitHub Discussions sur `bigmind-plugins`
- [ ] Cr√©er discussion par plugin
- [ ] Int√©grer Giscus widget dans `PluginDetailModal`
- [ ] Afficher rating moyen dans cards

**PHASE 6B : Supabase Ratings System (COMPL√âT√â - Alternative √† Giscus)** ‚úÖ

- [x] Cr√©er tables Supabase (`plugin_ratings`, `plugin_rating_replies`, `rating_submissions`)
- [x] Cr√©er Edge Function `check-rate-limit` (5 ratings/plugin/IP/24h)
- [x] D√©ployer Edge Function sur Supabase
- [x] Appliquer GRANTS PostgreSQL (anon: INSERT/SELECT, authenticated: ALL)
- [x] D√©sactiver RLS (probl√®mes avec policies Supabase, s√©curit√© via GRANTS)
- [x] Cr√©er formulaire de rating dans PluginMarketplace
- [x] Cr√©er AdminPanel pour mod√©ration (approve/reject)
- [x] Int√©grer login Supabase pour admins
- [x] Afficher ratings approuv√©s dans les cards
- [x] Documentation: `SUPABASE_FINAL_SETUP.md`, `EDGE_FUNCTIONS_SETUP.md`

**TOTAL : ~8 jours de d√©veloppement** (6B ajout√©, ~2 jours suppl√©mentaires)

#### 7. Migration R2 (FUTURE)

**√Ä faire plus tard quand on aura des ressources :**

- Cloudflare R2 pour hosting plugins
- CDN pour distribution
- Analytics serveur d√©di√©
- Backend API pour reviews propres

**Pour l'instant : GitHub suffit !**

---

## üî¥ PRIORIT√â HAUTE - √Ä FAIRE EN PREMIER

### Sprint 4: Marketplace Backend & API (3 semaines, 128 tests)

#### Base de donn√©es PostgreSQL

- [ ] Cr√©er `infrastructure/database/schema.sql`
  - [ ] Table `plugins` (id, name, description, author_id, version, manifest, downloads, created_at)
  - [ ] Table `plugin_versions` (id, plugin_id, version, manifest_json, published_at, deprecated, checksum)
  - [ ] Table `users` (id, email, username, password_hash, role, created_at)
  - [ ] Table `reviews` (id, plugin_id, user_id, rating, comment, helpful_count, created_at)
  - [ ] Table `analytics` (id, plugin_id, event_type, timestamp, metadata_json, user_id)
  - [ ] Table `security_reports` (id, plugin_id, version, vulnerability_type, severity, description, fixed_in)
  - [ ] Indexes pour performance (plugin_id, user_id, created_at, rating)
  - [ ] Foreign keys et contraintes
  - [ ] Scripts de migration v1 ‚Üí v2

- [ ] Cr√©er `infrastructure/database/seed.sql`
  - [ ] Donn√©es de test (10 plugins, 5 users, 20 reviews)
  - [ ] Plugin core pr√©-install√©s
  - [ ] Users admin/dev/user

#### Backend API - Infrastructure

- [ ] Cr√©er `apps/api/` - Nouveau workspace backend
- [ ] Cr√©er `apps/api/package.json`
  - [ ] Ajouter `express` ^4.18.0 ou `hono` ^3.11.0
  - [ ] Ajouter `pg` ^8.11.0 (PostgreSQL client)
  - [ ] Ajouter `jsonwebtoken` ^9.0.0
  - [ ] Ajouter `bcrypt` ^5.1.0
  - [ ] Ajouter `zod` ^3.22.0
  - [ ] Ajouter `dotenv` ^16.3.0
  - [ ] Ajouter `cors` ^2.8.5

- [ ] Cr√©er `apps/api/tsconfig.json`
- [ ] Cr√©er `apps/api/.env.example`
  - [ ] DATABASE_URL
  - [ ] JWT_SECRET
  - [ ] PORT
  - [ ] NODE_ENV

- [ ] Cr√©er `apps/api/src/server.ts` - Point d'entr√©e
- [ ] Cr√©er `apps/api/src/config/database.ts` - Pool PostgreSQL
- [ ] Cr√©er `apps/api/src/config/auth.ts` - Configuration JWT

#### PluginService - CRUD Plugins

- [ ] Cr√©er `apps/api/src/services/PluginService.ts`
  - [ ] `async createPlugin(data: CreatePluginDTO): Promise<Plugin>`
  - [ ] `async getPlugin(id: string): Promise<Plugin | null>`
  - [ ] `async listPlugins(filters: PluginFilters): Promise<Plugin[]>`
  - [ ] `async updatePlugin(id: string, data: UpdatePluginDTO): Promise<Plugin>`
  - [ ] `async deletePlugin(id: string): Promise<void>` (soft delete)
  - [ ] `async publishVersion(pluginId: string, version: VersionDTO): Promise<PluginVersion>`
  - [ ] `async getVersions(pluginId: string): Promise<PluginVersion[]>`
  - [ ] `async deprecateVersion(pluginId: string, version: string): Promise<void>`
  - [ ] `async trackInstall(pluginId: string, userId?: string): Promise<void>`
  - [ ] `async getPopular(limit: number): Promise<Plugin[]>`

- [ ] Cr√©er `apps/api/src/types/plugin.ts` - DTOs
  - [ ] `CreatePluginDTO`
  - [ ] `UpdatePluginDTO`
  - [ ] `PluginFilters`
  - [ ] `VersionDTO`

- [ ] Cr√©er `apps/api/src/validators/plugin.ts` - Validation Zod
  - [ ] `createPluginSchema`
  - [ ] `updatePluginSchema`
  - [ ] `versionSchema`

#### SearchService - D√©couverte Plugins

- [ ] Cr√©er `apps/api/src/services/SearchService.ts`
  - [ ] `async search(query: string, options: SearchOptions): Promise<SearchResult>`
  - [ ] `async searchByCategory(category: string): Promise<Plugin[]>`
  - [ ] `async searchByTags(tags: string[]): Promise<Plugin[]>`
  - [ ] `async getFacets(query: string): Promise<Facets>`
  - [ ] `async getAutocomplete(query: string): Promise<string[]>`
  - [ ] MVP: Requ√™tes SQL LIKE sur name/description
  - [ ] TODO Future: Int√©gration Elasticsearch/Algolia

- [ ] Cr√©er `apps/api/src/types/search.ts` - Types
  - [ ] `SearchOptions` (filters, sort, pagination)
  - [ ] `SearchResult` (items, total, facets)
  - [ ] `Facets` (categories, tags, ratings, versions)

#### ReviewService - Syst√®me Reviews

- [ ] Cr√©er `apps/api/src/services/ReviewService.ts`
  - [ ] `async createReview(data: CreateReviewDTO): Promise<Review>`
  - [ ] `async getReviews(pluginId: string, options: PaginationOptions): Promise<Review[]>`
  - [ ] `async updateReview(reviewId: string, data: UpdateReviewDTO): Promise<Review>`
  - [ ] `async deleteReview(reviewId: string, userId: string): Promise<void>`
  - [ ] `async markHelpful(reviewId: string, userId: string): Promise<void>`
  - [ ] `async getAverageRating(pluginId: string): Promise<number>`
  - [ ] `async detectSpam(review: Review): Promise<boolean>` (simple heuristics)
  - [ ] Validation: 1 review par user par plugin

- [ ] Cr√©er `apps/api/src/types/review.ts` - DTOs

#### AnalyticsService - Tracking RGPD

- [ ] Cr√©er `apps/api/src/services/AnalyticsService.ts`
  - [ ] `async trackEvent(event: AnalyticsEvent): Promise<void>`
  - [ ] `async getPluginStats(pluginId: string): Promise<PluginStats>`
  - [ ] `async getGlobalStats(): Promise<GlobalStats>`
  - [ ] `async cleanupOldData(): Promise<void>` (TTL 90 jours)
  - [ ] Data minimization: pas d'IP, user_id optionnel
  - [ ] Anonymization automatique

- [ ] Cr√©er `apps/api/src/types/analytics.ts` - Types
  - [ ] `AnalyticsEvent` (type, plugin_id, timestamp, metadata)
  - [ ] `PluginStats` (installs, active_users, avg_session)
  - [ ] Events: install, uninstall, update, use, error

#### Routes REST API

- [ ] Cr√©er `apps/api/src/routes/plugins.ts`
  - [ ] `POST /api/v1/plugins` - Publier plugin (Auth required)
  - [ ] `GET /api/v1/plugins` - Liste plugins (Public)
  - [ ] `GET /api/v1/plugins/:id` - D√©tails plugin (Public)
  - [ ] `PUT /api/v1/plugins/:id` - Modifier plugin (Auth + Owner)
  - [ ] `DELETE /api/v1/plugins/:id` - Supprimer plugin (Auth + Owner/Admin)
  - [ ] `POST /api/v1/plugins/:id/versions` - Publier version (Auth + Owner)
  - [ ] `GET /api/v1/plugins/:id/versions` - Lister versions (Public)
  - [ ] `DELETE /api/v1/plugins/:id/versions/:version` - D√©pr√©cier (Auth + Owner)
  - [ ] `POST /api/v1/plugins/:id/install` - Track installation (Public)

- [ ] Cr√©er `apps/api/src/routes/search.ts`
  - [ ] `GET /api/v1/search?q=:query` - Recherche full-text
  - [ ] `GET /api/v1/search/categories` - Liste cat√©gories
  - [ ] `GET /api/v1/search/tags` - Liste tags
  - [ ] `GET /api/v1/search/autocomplete?q=:query` - Suggestions

- [ ] Cr√©er `apps/api/src/routes/reviews.ts`
  - [ ] `POST /api/v1/plugins/:id/reviews` - Cr√©er review (Auth)
  - [ ] `GET /api/v1/plugins/:id/reviews` - Lister reviews (Public)
  - [ ] `PUT /api/v1/reviews/:id` - Modifier review (Auth + Owner)
  - [ ] `DELETE /api/v1/reviews/:id` - Supprimer review (Auth + Owner/Admin)
  - [ ] `POST /api/v1/reviews/:id/helpful` - Marquer utile (Auth)

- [ ] Cr√©er `apps/api/src/routes/analytics.ts`
  - [ ] `POST /api/v1/analytics/event` - Track event (Public, rate-limited)
  - [ ] `GET /api/v1/plugins/:id/stats` - Stats plugin (Public)
  - [ ] `GET /api/v1/analytics/global` - Stats globales (Admin only)

#### Middleware & Auth

- [ ] Cr√©er `apps/api/src/middleware/auth.ts`
  - [ ] `authenticateJWT(req, res, next)` - V√©rifier token JWT
  - [ ] `requireAuth(req, res, next)` - Requ√©rir authentification
  - [ ] `requireRole(role: string)` - V√©rifier r√¥le (admin/user)
  - [ ] `requireOwnership(req, res, next)` - V√©rifier ownership ressource

- [ ] Cr√©er `apps/api/src/middleware/validation.ts`
  - [ ] `validateBody(schema: ZodSchema)` - Valider body avec Zod
  - [ ] `validateQuery(schema: ZodSchema)` - Valider query params
  - [ ] Error handling uniformis√©

- [ ] Cr√©er `apps/api/src/middleware/rateLimit.ts`
  - [ ] Rate limit API: 100 req/min
  - [ ] Rate limit analytics: 10 events/min
  - [ ] Rate limit search: 30 req/min

- [ ] Cr√©er `apps/api/src/middleware/cors.ts`
  - [ ] Configuration CORS pour frontend
  - [ ] Whitelist domains

- [ ] Cr√©er `apps/api/src/middleware/errorHandler.ts`
  - [ ] Gestion erreurs centralis√©e
  - [ ] Logging erreurs
  - [ ] Responses JSON uniformes

#### Tests Sprint 4

- [ ] Cr√©er `apps/api/src/services/__tests__/PluginService.test.ts` (25 tests)
  - [ ] Tests CRUD complet
  - [ ] Tests versions
  - [ ] Tests installation tracking
  - [ ] Tests erreurs

- [ ] Cr√©er `apps/api/src/services/__tests__/SearchService.test.ts` (20 tests)
  - [ ] Tests recherche full-text
  - [ ] Tests facettes
  - [ ] Tests autocomplete
  - [ ] Tests pagination

- [ ] Cr√©er `apps/api/src/services/__tests__/ReviewService.test.ts` (18 tests)
  - [ ] Tests CRUD reviews
  - [ ] Tests rating aggregation
  - [ ] Tests spam detection
  - [ ] Tests validation (1 review/user/plugin)

- [ ] Cr√©er `apps/api/src/services/__tests__/AnalyticsService.test.ts` (15 tests)
  - [ ] Tests tracking events
  - [ ] Tests stats
  - [ ] Tests cleanup (TTL)
  - [ ] Tests anonymization

- [ ] Cr√©er `apps/api/src/routes/__tests__/plugins.test.ts` (30 tests)
  - [ ] Tests tous les endpoints
  - [ ] Tests auth/permissions
  - [ ] Tests validation
  - [ ] Tests erreurs

- [ ] Cr√©er `apps/api/__tests__/e2e/marketplace-api.spec.ts` (20 tests)
  - [ ] E2E: Publier plugin ‚Üí Recherche ‚Üí Install ‚Üí Review
  - [ ] E2E: Update plugin ‚Üí Track analytics
  - [ ] E2E: Auth flow complet
  - [ ] E2E: Permissions admin/user

#### Documentation Sprint 4

- [ ] Cr√©er `apps/api/README.md`
  - [ ] Setup instructions
  - [ ] Environment variables
  - [ ] API endpoints documentation
  - [ ] Database setup

- [ ] Cr√©er `apps/api/API.md` - API Reference
  - [ ] Endpoints complets
  - [ ] Request/Response examples
  - [ ] Authentication
  - [ ] Rate limiting

---

### Sprint 5: PluginInstaller & UpdateManager (2 semaines, 100 tests)

#### RegistryClient - Communication avec Registry

- [ ] Cr√©er `apps/web/src/distribution/RegistryClient.ts`
  - [ ] `async getManifest(id: string): Promise<PluginManifest>`
  - [ ] `async getVersions(id: string): Promise<string[]>`
  - [ ] `async getLatestVersion(id: string): Promise<string>`
  - [ ] `async downloadPlugin(id: string, version: string): Promise<Blob>`
  - [ ] `async checkAvailability(id: string): Promise<boolean>`
  - [ ] Retry logic avec exponential backoff (3 tentatives)
  - [ ] Timeout handling (10s download, 3s metadata)
  - [ ] Local caching avec TTL (manifests: 5min, packages: permanent)
  - [ ] Fallback: CDN ‚Üí Origin ‚Üí npm registry

- [ ] Cr√©er `apps/web/src/distribution/types/registry.ts`
  - [ ] `RegistryConfig`
  - [ ] `DownloadProgress`
  - [ ] `RetryOptions`

#### PluginInstaller - Installation S√©curis√©e

- [ ] Cr√©er `apps/web/src/distribution/PluginInstaller.ts`
  - [ ] `async install(id: string, version?: string): Promise<void>`
  - [ ] `async uninstall(id: string): Promise<void>`
  - [ ] `async getInstalled(): Promise<InstalledPlugin[]>`
  - [ ] `async isInstalled(id: string): Promise<boolean>`
  - [ ] R√©solution d√©pendances automatique (utilise DependencyResolver)
  - [ ] V√©rification signatures (utilise Verifier)
  - [ ] Integrity checks SRI (utilise IntegrityChecker)
  - [ ] Rollback automatique si √©chec installation
  - [ ] Progress tracking avec events
  - [ ] Installation atomique (transaction-like)

- [ ] Cr√©er `apps/web/src/distribution/types/installer.ts`
  - [ ] `InstallOptions` (skipDeps, force, silent)
  - [ ] `InstallProgress` (phase, progress, message)
  - [ ] `InstalledPlugin` (id, version, installedAt, size)
  - [ ] `InstallPhase` enum (download, verify, extract, install, activate)

- [ ] Cr√©er `apps/web/src/distribution/PluginLoader.ts`
  - [ ] `async loadPlugin(id: string): Promise<PluginInstance>`
  - [ ] `async unloadPlugin(id: string): Promise<void>`
  - [ ] Chargement dynamique depuis IndexedDB ou CDN
  - [ ] Sandbox isolation
  - [ ] Error boundary

#### UpdateManager - Gestion Updates

- [ ] Cr√©er `apps/web/src/distribution/UpdateManager.ts`
  - [ ] `async check(id: string): Promise<UpdateInfo | null>`
  - [ ] `async checkAll(): Promise<UpdateInfo[]>`
  - [ ] `async update(id: string): Promise<void>`
  - [ ] `async enableAutoUpdate(id: string): Promise<void>`
  - [ ] `async disableAutoUpdate(id: string): Promise<void>`
  - [ ] Background task: check updates toutes les 6h
  - [ ] Update channels: alpha (daily) / beta (weekly) / stable (on-demand)
  - [ ] Staged rollout: 10% ‚Üí 50% ‚Üí 100% sur 3 jours
  - [ ] Change notifications avec changelog

- [ ] Cr√©er `apps/web/src/distribution/types/update.ts`
  - [ ] `UpdateInfo` (currentVersion, latestVersion, changelog, breaking)
  - [ ] `UpdateChannel` enum
  - [ ] `UpdateOptions` (channel, auto, staged)

#### DeltaUpdater - Updates Optimis√©s

- [ ] Cr√©er `apps/web/src/distribution/DeltaUpdater.ts`
  - [ ] `async generatePatch(oldBlob: Blob, newBlob: Blob): Promise<Blob>`
  - [ ] `async applyPatch(oldBlob: Blob, patch: Blob): Promise<Blob>`
  - [ ] `async shouldUseDelta(oldSize: number, newSize: number): Promise<boolean>`
  - [ ] Algorithme bsdiff pour g√©n√©ration patches binaires
  - [ ] R√®gle: si patch > 60% de la nouvelle version ‚Üí full download
  - [ ] V√©rification hash avant/apr√®s application
  - [ ] Rollback automatique si √©chec application patch

- [ ] Ajouter d√©pendance `bsdiff-node` ^2.1.0 √† package.json

#### Tests Sprint 5

- [ ] Cr√©er `apps/web/src/distribution/__tests__/RegistryClient.test.ts` (20 tests)
  - [ ] Tests getManifest/getVersions
  - [ ] Tests downloadPlugin avec progress
  - [ ] Tests retry logic
  - [ ] Tests timeout handling
  - [ ] Tests caching
  - [ ] Tests fallback chain

- [ ] Cr√©er `apps/web/src/distribution/__tests__/PluginInstaller.test.ts` (25 tests)
  - [ ] Tests install simple
  - [ ] Tests install avec d√©pendances
  - [ ] Tests v√©rification signatures
  - [ ] Tests integrity checks
  - [ ] Tests rollback sur erreur
  - [ ] Tests progress tracking
  - [ ] Tests uninstall

- [ ] Cr√©er `apps/web/src/distribution/__tests__/UpdateManager.test.ts` (22 tests)
  - [ ] Tests check updates
  - [ ] Tests update simple
  - [ ] Tests auto-update
  - [ ] Tests update channels
  - [ ] Tests staged rollout
  - [ ] Tests changelog notifications

- [ ] Cr√©er `apps/web/src/distribution/__tests__/DeltaUpdater.test.ts` (18 tests)
  - [ ] Tests g√©n√©ration patch
  - [ ] Tests application patch
  - [ ] Tests r√®gle 60%
  - [ ] Tests v√©rification hashes
  - [ ] Tests rollback

- [ ] Cr√©er `apps/web/__tests__/e2e/install-update.spec.ts` (15 tests)
  - [ ] E2E: Install plugin simple
  - [ ] E2E: Install avec d√©pendances
  - [ ] E2E: Update plugin
  - [ ] E2E: Delta update
  - [ ] E2E: Rollback sur erreur

---

### Sprint 7: State Management & Persistence (2 semaines, 127 tests)

#### Zustand AppStore Centralis√©

- [ ] Cr√©er `apps/web/src/stores/AppStore.ts`
  - [ ] Setup store avec `zustand` et `immer`
  - [ ] Composition slices
  - [ ] Middleware chain
  - [ ] DevTools integration

- [ ] Cr√©er `apps/web/src/stores/slices/mindmapSlice.ts`
  - [ ] State: openFiles, currentFile, nodes, edges
  - [ ] Actions: openFile, closeFile, updateNode, etc.

- [ ] Cr√©er `apps/web/src/stores/slices/pluginsSlice.ts`
  - [ ] State: installed, enabled, settings
  - [ ] Actions: enablePlugin, disablePlugin, updateSettings

- [ ] Cr√©er `apps/web/src/stores/slices/uiSlice.ts`
  - [ ] State: theme, layout, panels, modals
  - [ ] Actions: togglePanel, openModal, setTheme

- [ ] Cr√©er `apps/web/src/stores/slices/settingsSlice.ts`
  - [ ] State: user preferences
  - [ ] Actions: updateSetting, resetSettings

#### Middleware Persistence

- [ ] Cr√©er `apps/web/src/stores/middleware/persistenceMiddleware.ts`
  - [ ] Auto-save avec debounce (300ms)
  - [ ] S√©rialisation state
  - [ ] Integration avec StorageManager
  - [ ] Recovery apr√®s crash
  - [ ] Selective persistence (whitelist keys)

#### Middleware Undo/Redo

- [ ] Cr√©er `apps/web/src/stores/middleware/undoRedoMiddleware.ts`
  - [ ] History stack (max 100 actions)
  - [ ] `undo()` action
  - [ ] `redo()` action
  - [ ] `canUndo()`, `canRedo()` selectors
  - [ ] Keyboard shortcuts integration
  - [ ] Action filtering (certaines actions non-undoable)

#### Middleware Sync Multi-tab

- [ ] Cr√©er `apps/web/src/stores/middleware/syncMiddleware.ts`
  - [ ] BroadcastChannel pour communication
  - [ ] Sync state changes entre tabs
  - [ ] Conflict resolution (last-write-wins)
  - [ ] Tab leader election

#### Persistence Layer

- [ ] Cr√©er `apps/web/src/persistence/StorageManager.ts`
  - [ ] `async save(key: string, data: unknown): Promise<void>`
  - [ ] `async load(key: string): Promise<unknown>`
  - [ ] `async delete(key: string): Promise<void>`
  - [ ] `async clear(): Promise<void>`
  - [ ] Adapter pattern (IndexedDB / localStorage)
  - [ ] Compression optionnelle (grandes donn√©es)

- [ ] Cr√©er `apps/web/src/persistence/IndexedDBAdapter.ts`
  - [ ] Database: "bigmind-storage" v1
  - [ ] Object store: "app-state"
  - [ ] CRUD operations
  - [ ] Transaction support

- [ ] Cr√©er `apps/web/src/persistence/LocalStorageAdapter.ts`
  - [ ] Fallback si IndexedDB indisponible
  - [ ] Size limit handling (5MB)
  - [ ] Quota exceeded errors

- [ ] Cr√©er `apps/web/src/persistence/migrations/` folder
  - [ ] `v1_initial.ts` - Schema initial
  - [ ] `migration-runner.ts` - Ex√©cution migrations
  - [ ] Versioning syst√®me

#### History System (Undo/Redo)

- [ ] Cr√©er `apps/web/src/history/HistoryManager.ts`
  - [ ] Command pattern implementation
  - [ ] History stack management
  - [ ] Batch operations support
  - [ ] Integration avec AppStore middleware

- [ ] Cr√©er `apps/web/src/history/commands/NodeCommand.ts`
  - [ ] `CreateNodeCommand` (execute, undo)
  - [ ] `DeleteNodeCommand`
  - [ ] `UpdateNodeCommand`
  - [ ] `MoveNodeCommand`

- [ ] Cr√©er `apps/web/src/history/commands/StyleCommand.ts`
  - [ ] `UpdateStyleCommand`
  - [ ] `ApplyThemeCommand`

- [ ] Cr√©er `apps/web/src/history/commands/TagCommand.ts`
  - [ ] `CreateTagCommand`
  - [ ] `DeleteTagCommand`
  - [ ] `AssignTagCommand`
  - [ ] `UnassignTagCommand`

- [ ] Integration keyboard shortcuts
  - [ ] Cmd/Ctrl + Z ‚Üí undo
  - [ ] Cmd/Ctrl + Shift + Z ‚Üí redo
  - [ ] Cmd/Ctrl + Y ‚Üí redo (Windows)

#### Migration Hooks (Backward Compatibility)

- [ ] Cr√©er `apps/web/src/hooks/useOpenFiles.ts` (nouveau)
  - [ ] Wrapper autour de `useAppStore(state => state.mindmap.openFiles)`
  - [ ] Emit deprecation warning en console
  - [ ] Compatible API avec ancien hook

- [ ] Cr√©er `apps/web/src/hooks/useTagStore.ts` (nouveau)
  - [ ] Wrapper autour de `useAppStore(state => state.mindmap.tags)`
  - [ ] Deprecation warning

- [ ] Cr√©er `apps/web/src/hooks/useAppSettings.ts` (nouveau)
  - [ ] Wrapper autour de `useAppStore(state => state.settings)`
  - [ ] Deprecation warning

- [ ] Cr√©er `apps/web/src/hooks/useViewport.ts` (nouveau)
  - [ ] Wrapper autour de `useAppStore(state => state.ui.viewport)`
  - [ ] Deprecation warning

- [ ] Cr√©er `apps/web/src/stores/deprecation.ts`
  - [ ] `warnDeprecation(oldHook: string, newPath: string)`
  - [ ] Console warnings avec stack trace
  - [ ] Link vers migration guide

#### Tests Sprint 7

- [ ] Cr√©er `apps/web/src/stores/__tests__/AppStore.test.ts` (20 tests)
  - [ ] Tests slices integration
  - [ ] Tests middleware chain
  - [ ] Tests selectors
  - [ ] Tests actions

- [ ] Cr√©er `apps/web/src/stores/middleware/__tests__/persistenceMiddleware.test.ts` (15 tests)
  - [ ] Tests auto-save
  - [ ] Tests debounce
  - [ ] Tests recovery
  - [ ] Tests selective persistence

- [ ] Cr√©er `apps/web/src/stores/middleware/__tests__/undoRedoMiddleware.test.ts` (25 tests)
  - [ ] Tests undo/redo
  - [ ] Tests history stack
  - [ ] Tests action filtering
  - [ ] Tests keyboard shortcuts

- [ ] Cr√©er `apps/web/src/persistence/__tests__/IndexedDBAdapter.test.ts` (18 tests)
  - [ ] Tests CRUD operations
  - [ ] Tests transactions
  - [ ] Tests error handling

- [ ] Cr√©er `apps/web/src/history/__tests__/HistoryManager.test.ts` (22 tests)
  - [ ] Tests commands
  - [ ] Tests batch operations
  - [ ] Tests undo/redo pour nodes
  - [ ] Tests undo/redo pour styles
  - [ ] Tests undo/redo pour tags

- [ ] Cr√©er `apps/web/src/hooks/__tests__/migration-hooks.test.ts` (15 tests)
  - [ ] Tests compatibility hooks
  - [ ] Tests deprecation warnings
  - [ ] Tests API compatibility

- [ ] Cr√©er `apps/web/__tests__/e2e/state-persistence.spec.ts` (12 tests)
  - [ ] E2E: Create map ‚Üí Auto-save ‚Üí Reload
  - [ ] E2E: Multi-tab sync
  - [ ] E2E: Undo/redo flow complet
  - [ ] E2E: Recovery apr√®s crash

---

## üü† PRIORIT√â MOYENNE - APR√àS CRITIQUES

### Sprint 6: Monorepo & Developer Experience (2 semaines, 57 tests)

#### Turborepo Setup

- [ ] Installer Turborepo: `pnpm add -D turbo`

- [ ] Cr√©er `turbo.json`
  - [ ] Pipeline `build`: `dependsOn: ["^build"]`
  - [ ] Pipeline `test`: `dependsOn: ["build"]`
  - [ ] Pipeline `lint`: `dependsOn: []`
  - [ ] Pipeline `typecheck`: `dependsOn: []`
  - [ ] Pipeline `dev`: `cache: false, persistent: true`
  - [ ] Remote cache configuration

- [ ] Cr√©er `pnpm-workspace.yaml` (si pas existant)
  - [ ] `apps/*`
  - [ ] `packages/*`
  - [ ] `plugins/*`

- [ ] Mettre √† jour `package.json` root
  - [ ] Scripts: `turbo run build --filter=...`
  - [ ] Scripts: `turbo run test --parallel`

#### Restructuration Monorepo

- [ ] Cr√©er `packages/core/` - Core logic partag√©
  - [ ] Extraire utils depuis `apps/web/src/utils`
  - [ ] Extraire types depuis `apps/web/src/types`
  - [ ] `packages/core/package.json`
  - [ ] `packages/core/tsconfig.json`

- [ ] Cr√©er `packages/shared/` - Shared utilities
  - [ ] Logger
  - [ ] Validation helpers
  - [ ] Constants
  - [ ] `packages/shared/package.json`

- [ ] Cr√©er structure `plugins/` pour plugins tiers
  - [ ] `plugins/example-plugin/`
  - [ ] Template structure

- [ ] Configurer path aliases (tsconfig)
  - [ ] `@bigmind/core` ‚Üí `packages/core`
  - [ ] `@bigmind/shared` ‚Üí `packages/shared`
  - [ ] `@bigmind/plugin-sdk` ‚Üí `packages/plugin-system`

#### CLI Tools

- [ ] Cr√©er `packages/cli/` - CLI package
  - [ ] `packages/cli/package.json`
    - [ ] D√©pendance `commander` ^12.0.0
    - [ ] D√©pendance `inquirer` ^9.2.0
    - [ ] D√©pendance `chalk` ^5.3.0
    - [ ] D√©pendance `ora` ^8.0.0

- [ ] Cr√©er `packages/cli/src/index.ts` - Point d'entr√©e
  - [ ] Setup commander.js
  - [ ] Global options: --verbose, --help, --version

- [ ] Cr√©er `packages/cli/src/commands/create.ts`
  - [ ] `bigmind plugin create <name>`
  - [ ] Interactive prompts (inquirer)
  - [ ] Template selection (react, vue, vanilla)
  - [ ] Generate plugin structure
  - [ ] Initialize git repo
  - [ ] Install dependencies

- [ ] Cr√©er `packages/cli/src/commands/dev.ts`
  - [ ] `bigmind plugin dev`
  - [ ] Start dev server avec HMR
  - [ ] Watch mode
  - [ ] Hot reload plugin

- [ ] Cr√©er `packages/cli/src/commands/build.ts`
  - [ ] `bigmind plugin build`
  - [ ] Build avec Vite
  - [ ] Generate manifest
  - [ ] Bundle optimization
  - [ ] Generate sourcemaps

- [ ] Cr√©er `packages/cli/src/commands/publish.ts`
  - [ ] `bigmind plugin publish`
  - [ ] Validate manifest
  - [ ] Build plugin
  - [ ] Sign plugin
  - [ ] Upload to registry
  - [ ] Create git tag

- [ ] Cr√©er `packages/cli/src/commands/validate.ts`
  - [ ] `bigmind plugin validate`
  - [ ] Validate manifest.json
  - [ ] Check dependencies
  - [ ] Lint code
  - [ ] Check bundle size

#### Plugin Scaffolding

- [ ] Cr√©er `packages/cli/templates/` - Templates
  - [ ] `packages/cli/templates/react/` - React template
  - [ ] `packages/cli/templates/vue/` - Vue template
  - [ ] `packages/cli/templates/vanilla/` - Vanilla JS template

- [ ] Template React structure:
  - [ ] `src/index.tsx` - Entry point
  - [ ] `manifest.json` - Plugin manifest
  - [ ] `package.json` - Dependencies
  - [ ] `tsconfig.json` - TypeScript config
  - [ ] `vite.config.ts` - Build config
  - [ ] `README.md` - Documentation
  - [ ] `.gitignore`

- [ ] Cr√©er `scripts/create-plugin.ts` (wrapper CLI)
  - [ ] Interactive prompts
  - [ ] Template rendering (Handlebars/EJS)
  - [ ] File generation
  - [ ] Post-install instructions

#### Dev Tools

- [ ] Hot reload syst√®me pour plugins
  - [ ] File watcher (chokidar)
  - [ ] WebSocket pour communication dev server
  - [ ] Auto-reload plugin on change
  - [ ] Preserve state si possible

- [ ] Dev server avec HMR
  - [ ] Vite dev server custom
  - [ ] Plugin hot reload endpoint
  - [ ] Debug mode
  - [ ] Error overlay

- [ ] Storybook integration (optionnel)
  - [ ] Setup Storybook 7
  - [ ] Stories pour plugin components
  - [ ] Addon panel pour plugin context
  - [ ] Mock API responses

#### Tests Sprint 6

- [ ] Cr√©er `packages/cli/__tests__/commands/create.test.ts` (15 tests)
  - [ ] Tests creation plugin
  - [ ] Tests templates
  - [ ] Tests file generation

- [ ] Cr√©er `packages/cli/__tests__/commands/publish.test.ts` (12 tests)
  - [ ] Tests validation
  - [ ] Tests build
  - [ ] Tests upload (mock)

- [ ] Cr√©er `packages/cli/__tests__/cli.test.ts` (20 tests)
  - [ ] Tests tous les commands
  - [ ] Tests options globales
  - [ ] Tests error handling

- [ ] Cr√©er `apps/web/__tests__/integration/monorepo-build.test.ts` (10 tests)
  - [ ] Tests Turborepo pipeline
  - [ ] Tests cache
  - [ ] Tests dependencies

---

### Tests Syst√®me Tags (1 semaine, 55 tests)

#### Tests Unitaires

- [ ] Cr√©er `apps/web/src/hooks/__tests__/useTagGraph.test.ts` (15 tests)
  - [ ] Tests cr√©ation DAG
  - [ ] Tests hi√©rarchie tags
  - [ ] Tests getAncestors/getDescendants
  - [ ] Tests d√©tection cycles

- [ ] Cr√©er `apps/web/src/hooks/__tests__/useNodeTags.test.ts` (12 tests)
  - [ ] Tests assignation tags
  - [ ] Tests remove tags
  - [ ] Tests getNodeTags
  - [ ] Tests tag inheritance

- [ ] Cr√©er `apps/web/src/utils/__tests__/tagUtils.test.ts` (10 tests)
  - [ ] Tests validation tag names
  - [ ] Tests tag colors
  - [ ] Tests tag search
  - [ ] Tests tag merge

- [ ] Cr√©er `apps/web/src/hooks/__tests__/useMindMapDAGSync.test.ts` (18 tests)
  - [ ] Tests sync mindmap ‚Üí tags
  - [ ] Tests sync tags ‚Üí mindmap
  - [ ] Tests bidirectional sync
  - [ ] Tests conflict resolution

#### Performance Tags

- [ ] Optimisation recherche tags
  - [ ] Index tags par nom (Map)
  - [ ] Index tags par couleur
  - [ ] Cache r√©sultats recherche

- [ ] Virtual rendering tag tree
  - [ ] Virtual list pour 1000+ tags
  - [ ] Lazy loading branches
  - [ ] Intersection Observer

- [ ] Memoization DAG operations
  - [ ] useMemo pour getAncestors
  - [ ] useMemo pour getDescendants
  - [ ] useMemo pour tag tree rendering

#### Undo/Redo Tags (d√©pend Sprint 7)

- [ ] Integration avec HistoryManager
  - [ ] CreateTagCommand
  - [ ] DeleteTagCommand
  - [ ] RenameTagCommand
  - [ ] AssignTagCommand

---

### Plugin Storage Phase 3 (1 semaine, 57 tests)

#### Interface Compatibilit√© Plugins

- [ ] Cr√©er `apps/web/src/components/dialogs/MissingPluginsDialog.tsx`
  - [ ] Liste plugins manquants
  - [ ] Boutons: Install / Skip / Cancel
  - [ ] Progress installation
  - [ ] Error handling

- [ ] Cr√©er `apps/web/src/plugins/compatibility/CompatibilityChecker.ts`
  - [ ] `async checkCompatibility(manifest: Manifest): Promise<CompatibilityReport>`
  - [ ] V√©rifier versions plugins required
  - [ ] V√©rifier SDK version
  - [ ] V√©rifier API compatibility

- [ ] Cr√©er UI gestion d√©pendances dans Settings
  - [ ] Liste d√©pendances par plugin
  - [ ] Visual graph des d√©pendances
  - [ ] Actions: Update / Remove

- [ ] Auto-installation plugins required
  - [ ] Prompt user avant installation
  - [ ] Installation en batch
  - [ ] R√©solution d√©pendances

#### JSON Schema Validation

- [ ] Cr√©er `apps/web/src/plugins/storage/schema/` folder
  - [ ] `base-schema.json` - Schema de base plugin data
  - [ ] `versioned-schema.json` - Schema avec versioning

- [ ] Cr√©er `apps/web/src/plugins/storage/SchemaValidator.ts`
  - [ ] `async validate(data: unknown, schema: JSONSchema): Promise<ValidationResult>`
  - [ ] Integration Ajv pour validation
  - [ ] Error reporting d√©taill√©
  - [ ] Type safety (TypeScript types depuis schema)

- [ ] Versioning schema automatique
  - [ ] Schema v1, v2, v3...
  - [ ] Migration automatique entre versions
  - [ ] Backward compatibility checks

#### Cache Migrations

- [ ] Cr√©er `apps/web/src/plugins/storage/MigrationCache.ts`
  - [ ] Cache r√©sultats migrations (IndexedDB)
  - [ ] Key: `plugin-id@version:data-hash`
  - [ ] √âviter re-migration des m√™mes donn√©es
  - [ ] Invalidation si schema change
  - [ ] Statistiques migrations (timing, success rate)

#### Tests Storage Phase 3

- [ ] Cr√©er `apps/web/src/plugins/storage/__tests__/pluginStorage.test.ts` (15 tests)
  - [ ] Tests read/write plugin data
  - [ ] Tests versioning
  - [ ] Tests migration
  - [ ] Tests error handling

- [ ] Cr√©er `apps/web/src/plugins/storage/__tests__/migrationManager.test.ts` (20 tests)
  - [ ] Tests migration automatique
  - [ ] Tests rollback
  - [ ] Tests cache migrations
  - [ ] Tests sch√©ma validation

- [ ] Cr√©er `apps/web/src/plugins/storage/__tests__/legacyDataMigration.test.ts` (12 tests)
  - [ ] Tests migration donn√©es legacy
  - [ ] Tests compatibility checker
  - [ ] Tests auto-installation deps

- [ ] Cr√©er `apps/web/__tests__/e2e/plugin-storage.spec.ts` (10 tests)
  - [ ] E2E: Plugin save data ‚Üí reload ‚Üí restore
  - [ ] E2E: Migration automatique
  - [ ] E2E: Schema validation

---

## üü¢ PRIORIT√â BASSE - POLISH & FUTURES

### Sprint 8: Performance & Optimization (2 semaines, 65 tests)

#### Virtual Rendering

- [ ] Cr√©er `apps/web/src/rendering/VirtualCanvas.tsx`
  - [ ] Viewport-based rendering (uniquement n≈ìuds visibles)
  - [ ] Culling hors viewport
  - [ ] LOD (Level of Detail) selon zoom

- [ ] Cr√©er `apps/web/src/rendering/useVirtualization.ts`
  - [ ] Hook pour virtual rendering
  - [ ] calculateVisibleItems()
  - [ ] Intersection Observer integration

- [ ] Cr√©er `apps/web/src/rendering/QuadTree.ts`
  - [ ] Spatial indexing des n≈ìuds
  - [ ] Query nodes in bounds
  - [ ] Optimisation collision detection

- [ ] Cr√©er `apps/web/src/rendering/Culling.ts`
  - [ ] Frustum culling
  - [ ] Occlusion culling (optionnel)

#### Memoization

- [ ] Cr√©er `apps/web/src/optimization/memoization.ts`
  - [ ] Custom memo HOC
  - [ ] Deep comparison helpers
  - [ ] Memoization utilities

- [ ] Cr√©er `apps/web/src/optimization/useShallowMemo.ts`
  - [ ] Hook pour shallow memoization
  - [ ] Alternative √† useMemo avec shallow compare

- [ ] Optimiser `MindMapCanvas.tsx` avec React.memo
  - [ ] Custom areEqual function
  - [ ] Props whitelist

- [ ] Optimiser `Node.tsx` avec React.memo
  - [ ] areEqual pour nodes
  - [ ] useMemo pour styles calcul√©s

#### Code Splitting

- [ ] Configurer dynamic imports dans `vite.config.ts`
  - [ ] Manual chunks configuration
  - [ ] Vendor splitting

- [ ] Lazy load Settings page
  - [ ] `const Settings = lazy(() => import('./pages/Settings'))`

- [ ] Lazy load Plugins page
  - [ ] `const Plugins = lazy(() => import('./pages/Plugins'))`

- [ ] Lazy load plugin WebViews
  - [ ] Dynamic import par plugin

- [ ] Route-based code splitting
  - [ ] Split par route principale

#### Web Workers

- [ ] Cr√©er `apps/web/src/workers/WorkerPool.ts`
  - [ ] Pool de workers r√©utilisables
  - [ ] Task queue
  - [ ] Transferable objects support
  - [ ] Comlink integration

- [ ] Ajouter d√©pendance `comlink` ^4.4.0 √† package.json

#### Tests Sprint 8

- [ ] Cr√©er `apps/web/src/rendering/__tests__/VirtualCanvas.test.tsx` (15 tests)
- [ ] Cr√©er `apps/web/src/rendering/__tests__/QuadTree.test.ts` (20 tests)
- [ ] Cr√©er `apps/web/src/optimization/__tests__/memoization.test.ts` (10 tests)
- [ ] Cr√©er `apps/web/__tests__/performance/benchmarks.test.ts` (8 tests)
  - [ ] Benchmark rendering 1000 nodes
  - [ ] Benchmark search performance
  - [ ] Benchmark state updates

---

### Accessibilit√© (1 semaine)

#### ARIA Labels

- [ ] Ajouter ARIA labels √† `MindMapCanvas.tsx`
  - [ ] role="application"
  - [ ] aria-label="Mind map canvas"

- [ ] Ajouter ARIA labels √† composants Node
  - [ ] role="treeitem"
  - [ ] aria-expanded
  - [ ] aria-level

- [ ] Ajouter ARIA labels √† Toolbar
  - [ ] role="toolbar"
  - [ ] aria-label pour chaque bouton

- [ ] Ajouter ARIA labels √† Panels
  - [ ] role="complementary"
  - [ ] aria-labelledby

#### Tests Axe-core

- [ ] Installer `@axe-core/react` et `axe-playwright`

- [ ] Cr√©er `apps/web/src/test/axe-setup.ts`
  - [ ] Configuration axe-core
  - [ ] Integration avec Vitest

- [ ] Ajouter tests a11y dans tests existants
  - [ ] `expect(await axe(container)).toHaveNoViolations()`

- [ ] Cr√©er CI job pour accessibility checks
  - [ ] Fail si violations WCAG 2.1 AA

---

### Infrastructure & CI/CD

#### GitHub Workflows

- [ ] Cr√©er `.github/workflows/plugin-publish.yml`
  - [ ] Trigger: tag push `plugin-*@v*`
  - [ ] Steps: build, test, sign, publish
  - [ ] Semantic-release integration
  - [ ] Changelog generation automatique

- [ ] Cr√©er `.github/workflows/security-scan.yml`
  - [ ] Trigger: PR, push main
  - [ ] Snyk scan ou Trivy
  - [ ] Bundle size check (bundlesize.io)
  - [ ] License compliance (licensee)
  - [ ] SBOM generation (cyclonedx-npm)
  - [ ] Fail si vulnerabilit√©s critiques

- [ ] Cr√©er `.github/workflows/tests.yml`
  - [ ] Matrix: Node 18, 20
  - [ ] Run all tests
  - [ ] Coverage report (Codecov)
  - [ ] E2E tests (Playwright)

#### Monitoring

- [ ] Setup Sentry pour error tracking
  - [ ] Frontend integration
  - [ ] Backend integration
  - [ ] Source maps upload

- [ ] Setup analytics (optionnel)
  - [ ] Plausible ou Umami (privacy-first)
  - [ ] Page views
  - [ ] Feature usage
  - [ ] Performance metrics

---

### Documentation (2 semaines)

#### Developer Documentation

- [ ] Cr√©er `docs/PLUGIN_DEVELOPMENT.md`
  - [ ] Getting started
  - [ ] Plugin structure
  - [ ] API reference (SDK)
  - [ ] Best practices
  - [ ] Examples

- [ ] Cr√©er `docs/MANIFEST_SCHEMA.md`
  - [ ] Champs manifest complets
  - [ ] Validation rules
  - [ ] Examples

- [ ] Cr√©er `docs/DISTRIBUTION.md`
  - [ ] Publishing workflow
  - [ ] CDN setup
  - [ ] Versioning strategy
  - [ ] Delta updates

- [ ] Cr√©er `docs/SECURITY.md`
  - [ ] Code signing process
  - [ ] SBOM generation
  - [ ] Vulnerability scanning
  - [ ] Security best practices

- [ ] Cr√©er `docs/API_REFERENCE.md`
  - [ ] Backend API endpoints
  - [ ] Request/Response examples
  - [ ] Authentication
  - [ ] Rate limiting

- [ ] Cr√©er `docs/ARCHITECTURE.md`
  - [ ] System overview
  - [ ] Component diagrams
  - [ ] Data flow
  - [ ] Plugin lifecycle

- [ ] Cr√©er `docs/MIGRATION_GUIDE.md`
  - [ ] Phase 3 ‚Üí Phase 4
  - [ ] Breaking changes
  - [ ] Migration steps
  - [ ] Compatibility layer

#### User Documentation

- [ ] Cr√©er `docs/PLUGIN_INSTALL.md`
  - [ ] How to install plugins
  - [ ] Marketplace usage
  - [ ] Manual installation

- [ ] Cr√©er `docs/UPDATES.md`
  - [ ] Auto-update settings
  - [ ] Manual updates
  - [ ] Update channels

- [ ] Cr√©er `docs/PRIVACY.md`
  - [ ] Privacy policy
  - [ ] Data collection (RGPD)
  - [ ] Opt-in/opt-out

- [ ] Cr√©er `docs/FAQ.md`
  - [ ] Common questions
  - [ ] Troubleshooting
  - [ ] Support

#### Package Documentation

- [ ] Mettre √† jour `packages/plugin-sdk/README.md`
  - [ ] Installation
  - [ ] Quick start
  - [ ] API overview
  - [ ] Examples

- [ ] Cr√©er `packages/plugin-sdk/API.md`
  - [ ] Detailed API reference
  - [ ] Hook documentation
  - [ ] Type definitions
  - [ ] Advanced usage

---

## üìã FEATURES FUTURES (Post Phase 4)

### Plugin: @bigmind/plugin-marketplace-ui

- [ ] Cr√©er `plugins/marketplace-ui/`
- [ ] UI compl√®te marketplace
- [ ] Plugin cards, filters, search
- [ ] Installation wizard
- [ ] Detail modals
- [ ] 15 tests UI

### Plugin: @bigmind/plugin-update-notifications

- [ ] Cr√©er `plugins/update-notifications/`
- [ ] Toast notifications pour updates
- [ ] Release notes viewer
- [ ] Settings auto-update
- [ ] 10 tests

### Plugin: @bigmind/plugin-installer-ui

- [ ] Cr√©er `plugins/installer-ui/`
- [ ] Installation progress UI
- [ ] Dependency tree visualization
- [ ] Error handling UI
- [ ] 8 tests

### Plugin: @bigmind/plugin-export-workers

- [ ] Cr√©er `plugins/export-workers/`
- [ ] Export background (PDF, PNG, SVG)
- [ ] Import background (XMind, FreeMind)
- [ ] Search indexing worker
- [ ] 12 tests

### Plugin: @bigmind/plugin-tags-advanced

- [ ] Export tags (JSON/CSV/YAML)
- [ ] Tag search & filtering avanc√©
- [ ] Collaboration multi-user (CRDT)
- [ ] Mobile support

### Plugin: @bigmind/plugin-storage-manager

- [ ] Export/import s√©lectif plugin data
- [ ] API nettoyage donn√©es orphelines
- [ ] UI visualisation donn√©es
- [ ] Tree view + JSON editor

### Plugin: @bigmind/plugin-onboarding

- [ ] Tour system (driver.js)
- [ ] First-run experience
- [ ] Feature tours contextuels
- [ ] Plugin discovery flow

### Plugin: @bigmind/plugin-collaboration

- [ ] Collaboration temps r√©el (CRDT)
- [ ] Multi-user editing
- [ ] Conflict resolution
- [ ] Presence awareness

### Plugin: @bigmind/plugin-cloud-sync

- [ ] Cloud synchronization
- [ ] Offline-first architecture
- [ ] Delta sync
- [ ] Conflict resolution

### Plugin: @bigmind/plugin-ai-assistant

- [ ] Smart suggestions
- [ ] Auto-completion
- [ ] Content generation
- [ ] Semantic analysis

---

## üìä M√âTRIQUES & OBJECTIFS

### Tests Coverage

- [ ] Sprint 4: 128/128 tests ‚úÖ
- [ ] Sprint 5: 100/100 tests ‚úÖ
- [ ] Sprint 6: 57/57 tests ‚úÖ
- [ ] Sprint 7: 127/127 tests ‚úÖ
- [ ] Sprint 8: 65/65 tests ‚úÖ
- [ ] **TOTAL: 715/715 tests ‚úÖ**

### Performance Targets

- [ ] CDN hit rate > 95%
- [ ] Plugin install < 2s (moyenne)
- [ ] Delta update 60% plus petit
- [ ] 60 FPS avec 1000+ n≈ìuds
- [ ] Auto-save < 100ms

### Security

- [ ] 100% plugins sign√©s
- [ ] SBOM pour tous les plugins
- [ ] Provenance SLSA Level 2+
- [ ] 0 vuln√©rabilit√©s critiques
- [ ] Signatures v√©rifi√©es avant install

### Quality

- [ ] 80%+ code coverage
- [ ] 0 bugs critiques
- [ ] RGPD compliant
- [ ] WCAG 2.1 AA compliant
- [ ] Documentation compl√®te

---

**Cr√©√© le:** 29 octobre 2025
**Derni√®re mise √† jour:** 29 octobre 2025
**Progression:** 39.7% (283/715 tests)
**Sprints restants:** 5/8
